"use strict";(self.webpackChunkdocument_management=self.webpackChunkdocument_management||[]).push([[875],{3875:(E,h,r)=>{r.r(h),r.d(h,{CategoryModule:()=>lt});var _=r(6895),p=r(8988),y=r(319),f=r(2676),t=r(4650),m=r(6943),T=r(7185),c=r(6107),l=r(7340),u=r(5412),g=r(4006),x=r(9785),b=r(9383);function A(e,o){1&e&&(t.TgZ(0,"div",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CATEGORY_NAME_IS_REQUIRED")))}function Z(e,o){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,A,3,3,"div",14),t.qZA()),2&e){t.oxw();const n=t.MAs(9);t.xp6(1),t.Q6J("ngIf",null==n?null:n.hasError("required"))}}function v(e,o){1&e&&(t.TgZ(0,"button",17),t._UZ(1,"i",18),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"SAVE"),""))}function M(e,o){1&e&&(t.ynx(0),t.YNc(1,v,4,3,"button",16),t.BQk()),2&e&&(t.xp6(1),t.Q6J("hasClaim","DOCUMENT_CATEGORY_MANAGE_DOCUMENT_CATEGORY"))}function D(e,o){1&e&&(t.TgZ(0,"button",17),t._UZ(1,"i",19),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"SAVE"),""))}function N(e,o){1&e&&(t.ynx(0),t.YNc(1,D,4,3,"button",16),t.BQk()),2&e&&(t.xp6(1),t.Q6J("hasClaim","DOCUMENT_CATEGORY_MANAGE_DOCUMENT_CATEGORY"))}let O=(()=>{class e extends f.H{constructor(n,a,i){super(),this.dialogRef=n,this.data=a,this.categoryService=i,this.isEdit=!1}ngOnChanges(n){n.data&&this.data.id&&(this.isEdit=!0)}onCancel(){this.dialogRef.close()}saveCategory(){this.data.id?this.categoryService.update(this.data).subscribe(n=>{this.dialogRef.close(n)}):this.categoryService.add(this.data).subscribe(n=>{this.dialogRef.close(n)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.so),t.Y36(u.WI),t.Y36(m.H))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-manage-category"]],features:[t.qOj,t.TTD],decls:25,vars:14,consts:[["name","form","novalidate","",3,"ngSubmit"],["categoryForm","ngForm"],["mat-dialog-content",""],[1,"row"],[1,"col-sm-12"],["for","categoryName",1,"form-label"],["required","","type","text","name","name","id","categoryName",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],[4,"ngIf"],["for","description",1,"form-label"],["name","description","type","text",1,"form-control",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-times-circle"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["type","submit","class","btn btn-success btn-sm m-r-10","cdkFocusInitial","",4,"hasClaim"],["type","submit","cdkFocusInitial","",1,"btn","btn-success","btn-sm","m-r-10"],[1,"fas","fa-save"],[1,"far","fa-save"]],template:function(n,a){if(1&n){const i=t.EpF();t.TgZ(0,"form",0,1),t.NdJ("ngSubmit",function(){t.CHM(i);const C=t.MAs(1);return t.KtG(C.form.valid&&a.saveCategory())}),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"input",6,7),t.NdJ("ngModelChange",function(C){return a.data.name=C}),t.qZA(),t.YNc(10,Z,2,1,"div",8),t.qZA()(),t.TgZ(11,"div",3)(12,"div",4)(13,"label",9),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"textarea",10),t.NdJ("ngModelChange",function(C){return a.data.description=C}),t._uU(17,"            "),t.qZA()()()(),t.TgZ(18,"div",11),t.YNc(19,M,2,1,"ng-container",8),t.YNc(20,N,2,1,"ng-container",8),t.TgZ(21,"button",12),t.NdJ("click",function(){return a.onCancel()}),t._UZ(22,"i",13),t._uU(23),t.ALo(24,"translate"),t.qZA()()()}if(2&n){const i=t.MAs(9);t.xp6(6),t.Oqu(t.lcZ(7,8,"NAME")),t.xp6(2),t.Q6J("ngModel",a.data.name),t.xp6(2),t.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),t.xp6(4),t.Oqu(t.lcZ(15,10,"DESCRIPTION")),t.xp6(2),t.Q6J("ngModel",a.data.description),t.xp6(3),t.Q6J("ngIf",!a.isEdit),t.xp6(1),t.Q6J("ngIf",a.isEdit),t.xp6(3),t.hij(" ",t.lcZ(24,12,"CANCEL"),"")}},dependencies:[_.O5,g._Y,g.Fj,g.JJ,g.JL,g.Q7,g.On,g.F,u.xY,u.H8,x.d,b.X$]}),e})();var L=r(5485),d=r(671),U=r(1676);function Y(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"a",27),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.manageCategory(null))}),t._UZ(1,"app-feather-icons",28),t.TgZ(2,"span",29),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&e&&(t.xp6(1),t.Tol("btn-success"),t.Q6J("icon","Plus"),t.xp6(2),t.hij(" ",t.lcZ(4,4,"ADD_DOCUMENT_CATEGORY"),""))}function R(e,o){1&e&&t._UZ(0,"th",30)}function w(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"i",34),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().$implicit,s=t.oxw();return t.KtG(s.toggleRow(i))}),t.qZA()}if(2&e){const n=t.oxw(2);t.Q6J("ngClass","rtl"===n.direction?"fa-angle-double-left":"fa-angle-double-right")}}function P(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"i",35),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().$implicit,s=t.oxw();return t.KtG(s.toggleRow(i))}),t.qZA()}}function S(e,o){if(1&e&&(t.TgZ(0,"td",31),t.YNc(1,w,1,1,"i",32),t.YNc(2,P,1,0,"i",33),t.qZA()),2&e){const n=o.$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngIf",n!==a.expandedElement),t.xp6(1),t.Q6J("ngIf",n===a.expandedElement)}}function G(e,o){1&e&&(t.TgZ(0,"th",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"ACTION")," "))}function H(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().$implicit,s=t.oxw();return t.KtG(s.manageCategory(i))}),t._UZ(1,"i",41),t.TgZ(2,"span",29),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"EDIT"),""))}function J(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",42),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().$implicit,s=t.oxw();return t.KtG(s.deleteCategory(i))}),t._UZ(1,"i",43),t.TgZ(2,"span",29),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"DELETE"),""))}function Q(e,o){1&e&&(t.TgZ(0,"td",37),t.YNc(1,H,5,3,"button",38),t.YNc(2,J,5,3,"button",39),t.qZA()),2&e&&(t.xp6(1),t.Q6J("hasClaim","DOCUMENT_CATEGORY_MANAGE_DOCUMENT_CATEGORY"),t.xp6(1),t.Q6J("hasClaim","DOCUMENT_CATEGORY_MANAGE_DOCUMENT_CATEGORY"))}function k(e,o){1&e&&(t.TgZ(0,"th",44),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NAME")," "))}function I(e,o){if(1&e&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function j(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",52),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().$implicit,s=t.oxw();return t.KtG(s.addSubCategory(i))}),t._UZ(1,"i",53),t.TgZ(2,"span",29),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"ADD_CHILD_CATEGORY"),""))}function F(e,o){1&e&&(t.TgZ(0,"th",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"ACTION")," "))}function q(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.manageCategory(i))}),t._UZ(1,"i",41),t.TgZ(2,"span",29),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"EDIT")," "))}function $(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",42),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.deleteCategory(i))}),t._UZ(1,"i",43),t.TgZ(2,"span",29),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"DELETE")," "))}function B(e,o){1&e&&(t.TgZ(0,"td",37),t.YNc(1,q,5,3,"button",38),t.YNc(2,$,5,3,"button",39),t.qZA()),2&e&&(t.xp6(1),t.Q6J("hasClaim","DOCUMENT_CATEGORY_MANAGE_DOCUMENT_CATEGORY"),t.xp6(1),t.Q6J("hasClaim","DOCUMENT_CATEGORY_MANAGE_DOCUMENT_CATEGORY"))}function K(e,o){1&e&&(t.TgZ(0,"th",44),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NAME")," "))}function X(e,o){if(1&e&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function W(e,o){1&e&&t._UZ(0,"tr",54)}function z(e,o){1&e&&t._UZ(0,"tr",55)}function V(e,o){if(1&e&&(t.TgZ(0,"td",45)(1,"div")(2,"div",4)(3,"div",46)(4,"div",11)(5,"div",47)(6,"div",4)(7,"div",48)(8,"h2"),t._uU(9),t.ALo(10,"translate"),t.qZA()(),t.TgZ(11,"div",49),t.YNc(12,j,5,3,"button",50),t.qZA()(),t.TgZ(13,"div",4)(14,"div",51),t._UZ(15,"hr"),t.qZA()()(),t.TgZ(16,"div",12)(17,"table",13),t.ynx(18,17),t.YNc(19,F,3,3,"th",18),t.YNc(20,B,3,2,"td",19),t.BQk(),t.ynx(21,20),t.YNc(22,K,3,3,"th",21),t.YNc(23,X,2,1,"td",22),t.BQk(),t.YNc(24,W,1,0,"tr",24),t.YNc(25,z,1,0,"tr",25),t.qZA()()()()()()()),2&e){const n=o.$implicit,a=t.oxw();t.uIk("colspan",a.columnsToDisplay.length),t.xp6(1),t.Q6J("@detailExpand",n===a.expandedElement?"expanded":"collapsed"),t.xp6(8),t.Oqu(t.lcZ(10,8,"CHILD_CATEGORIES")),t.xp6(3),t.Q6J("hasClaim","DOCUMENT_CATEGORY_MANAGE_DOCUMENT_CATEGORY"),t.xp6(5),t.Q6J("dataSource",a.subCategories),t.xp6(7),t.Q6J("matHeaderRowDef",a.subCategoryColumnToDisplay)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",a.subCategoryColumnToDisplay)}}function tt(e,o){1&e&&t._UZ(0,"tr",54)}function et(e,o){1&e&&t._UZ(0,"tr",55)}function nt(e,o){1&e&&t._UZ(0,"tr",56)}const ot=function(){return["expandedDetail"]};let at=(()=>{class e extends f.H{constructor(n,a,i,s,C){super(),this.dialog=n,this.commonDialogService=a,this.cd=i,this.categoryService=s,this.translationService=C,this.addEditCategoryHandler=new t.vpe,this.deleteCategoryHandler=new t.vpe,this.columnsToDisplay=["subcategory","action","name"],this.subCategoryColumnToDisplay=["action","name"],this.subCategories=[],this.getLangDir()}getLangDir(){this.sub$.sink=this.translationService.lanDir$.subscribe(n=>this.direction=n)}toggleRow(n){if(n==this.expandedElement)return this.expandedElement=null,void this.cd.detectChanges();this.subCategories=[],this.categoryService.getSubCategories(n.id).subscribe(a=>{this.subCategories=a,this.expandedElement=this.expandedElement===n?null:n,this.cd.detectChanges()})}deleteCategory(n){this.sub$.sink=this.commonDialogService.deleteConformationDialog(this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE"),n.name).subscribe(a=>{a&&this.deleteCategoryHandler.emit(n.id)})}manageCategory(n){const a=this.dialog.open(O,{width:"350px",data:Object.assign({},n)});this.sub$.sink=a.afterClosed().subscribe(i=>{i&&this.addEditCategoryHandler.emit(i)})}addSubCategory(n){this.manageCategory({id:"",description:"",name:"",parentId:n.id})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.uw),t.Y36(L.V),t.Y36(t.sBO),t.Y36(m.H),t.Y36(c.D))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-category-list-presentation"]],inputs:{categories:"categories"},outputs:{addEditCategoryHandler:"addEditCategoryHandler",deleteCategoryHandler:"deleteCategoryHandler"},features:[t.qOj],decls:33,vars:10,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[1,"breadcrumb-main"],[1,"row"],[1,"col-6"],[1,"breadcrumb-title"],[1,"breadcrumb-list"],[1,"breadcrumb-item","bcrumb-1"],["class","btn btn-outline-success btn-sm",3,"click",4,"hasClaim"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"body","table-responsive"],["mat-table","","multiTemplateDataRows","",1,"w-100",3,"dataSource"],["matColumnDef","subcategory"],["style","width:10%","mat-header-cell","",4,"matHeaderCellDef"],["style","width:10%","mat-cell","",4,"matCellDef"],["matColumnDef","action"],["style","width:30%","mat-header-cell","",4,"matHeaderCellDef"],["style","width:30%","mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],[1,"btn","btn-outline-success","btn-sm",3,"click"],[3,"icon"],[1,"d-none","d-sm-inline"],["mat-header-cell","",2,"width","10%"],["mat-cell","",2,"width","10%"],["class","fas btn",3,"ngClass","click",4,"ngIf"],["class","fas fa-angle-double-down btn",3,"click",4,"ngIf"],[1,"fas","btn",3,"ngClass","click"],[1,"fas","fa-angle-double-down","btn",3,"click"],["mat-header-cell","",2,"width","30%"],["mat-cell","",2,"width","30%"],["class","btn btn-success btn-sm m-r-10","type","button",3,"click",4,"hasClaim"],["class","btn btn-danger btn-sm","type","button",3,"click",4,"hasClaim"],["type","button",1,"btn","btn-success","btn-sm","m-r-10",3,"click"],[1,"fas","fa-pen"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],["mat-header-cell",""],["mat-cell",""],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"header"],[1,"col-auto","me-auto"],[1,"col-auto"],["class","btn btn-success btn-sm m-right-10",3,"click",4,"hasClaim"],[1,"col-12"],[1,"btn","btn-success","btn-sm","m-right-10",3,"click"],[1,"fas","fa-plus"],["mat-header-row",""],["mat-row",""],["mat-row","",1,"example-detail-row"]],template:function(n,a){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.TgZ(10,"div",5)(11,"ul",7)(12,"li",8),t.YNc(13,Y,5,6,"a",9),t.qZA()()()()()(),t.TgZ(14,"div",4)(15,"div",10)(16,"div",11)(17,"div",12)(18,"table",13),t.ynx(19,14),t.YNc(20,R,1,0,"th",15),t.YNc(21,S,3,2,"td",16),t.BQk(),t.ynx(22,17),t.YNc(23,G,3,3,"th",18),t.YNc(24,Q,3,2,"td",19),t.BQk(),t.ynx(25,20),t.YNc(26,k,3,3,"th",21),t.YNc(27,I,2,1,"td",22),t.BQk(),t.ynx(28,23),t.YNc(29,V,26,10,"td",22),t.BQk(),t.YNc(30,tt,1,0,"tr",24),t.YNc(31,et,1,0,"tr",25),t.YNc(32,nt,1,0,"tr",26),t.qZA()()()()()()()),2&n&&(t.xp6(8),t.Oqu(t.lcZ(9,7,"DOCUMENT_CATEGORIES")),t.xp6(5),t.Q6J("hasClaim","DOCUMENT_CATEGORY_MANAGE_DOCUMENT_CATEGORY"),t.xp6(5),t.Q6J("dataSource",a.categories),t.xp6(12),t.Q6J("matHeaderRowDef",a.columnsToDisplay)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",a.columnsToDisplay),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(9,ot)))},dependencies:[_.mk,_.O5,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,U.A,x.d,b.X$],styles:["tr.example-detail-row[_ngcontent-%COMP%]{height:0!important}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.inner-table[_ngcontent-%COMP%]{margin:1em;padding:1em;width:100%!important}"],data:{animation:[(0,l.X$)("detailExpand",[(0,l.SB)("collapsed",(0,l.oB)({height:"0px",minHeight:"0"})),(0,l.SB)("expanded",(0,l.oB)({height:"*"})),(0,l.eR)("expanded <=> collapsed",(0,l.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]},changeDetection:0}),e})();const it=[{path:"",component:(()=>{class e extends f.H{constructor(n,a,i){super(),this.categoryService=n,this.toastrService=a,this.translationService=i}ngOnInit(){this.getCategories()}getCategories(){this.categories$=this.categoryService.getAllCategories()}deleteCategory(n){this.categoryService.delete(n).subscribe(a=>{this.toastrService.success(this.translationService.getValue("CATEGORY_DELETED_SUCCESSFULLY")),this.getCategories()})}manageCategory(){this.getCategories()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.H),t.Y36(T._W),t.Y36(c.D))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-category-list"]],features:[t.qOj],decls:2,vars:3,consts:[[3,"categories","addEditCategoryHandler","deleteCategoryHandler"]],template:function(n,a){1&n&&(t.TgZ(0,"app-category-list-presentation",0),t.NdJ("addEditCategoryHandler",function(){return a.manageCategory()})("deleteCategoryHandler",function(s){return a.deleteCategory(s)}),t.ALo(1,"async"),t.qZA()),2&n&&t.Q6J("categories",t.lcZ(1,1,a.categories$))},dependencies:[at,_.Ov]}),e})(),data:{claimType:"DOCUMENT_CATEGORY_MANAGE_DOCUMENT_CATEGORY"},canActivate:[y.a]}];let rt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.Bz.forChild(it),p.Bz]}),e})();var st=r(3417),ct=r(1572);let lt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[_.ez,rt,g.u5,g.UX,d.p0,ct.Cq,u.Is,st.m]}),e})()},6943:(E,h,r)=>{r.d(h,{H:()=>t});var _=r(262),p=r(4650),y=r(529),f=r(8032);let t=(()=>{class m{constructor(c,l){this.httpClient=c,this.commonHttpErrorService=l}getAllCategories(){return this.httpClient.get("category")}delete(c){return this.httpClient.delete(`category/${c}`)}update(c){return this.httpClient.put(`category/${c.id}`,c)}add(c){return this.httpClient.post("category",c).pipe((0,_.K)(this.commonHttpErrorService.handleError))}getSubCategories(c){return this.httpClient.get(`category/${c}/subcategories`)}getAllCategoriesForDropDown(){return this.httpClient.get("category/dropdown")}}return m.\u0275fac=function(c){return new(c||m)(p.LFG(y.eN),p.LFG(f.U))},m.\u0275prov=p.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);