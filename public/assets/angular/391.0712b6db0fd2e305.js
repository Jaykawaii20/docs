"use strict";(self.webpackChunkdocument_management=self.webpackChunkdocument_management||[]).push([[391],{1312:(P,g,s)=>{s.d(g,{E:()=>l});class l{constructor(){this.totalCount=0,this.pageSize=0,this.skip=0,this.totalPages=0}}},7954:(P,g,s)=>{s.d(g,{g:()=>l});var l=(()=>{return(a=l||(l={})).Read="Read",a.Created="Created",a.Modified="Modified",a.Deleted="Deleted",a.Add_Permission="Add_Permission",a.Remove_Permission="Remove_Permission",a.Send_Email="Send_Email",a.Download="Download",a.Archived="Archived",a.Restored="Restored",l;var a})()},4913:(P,g,s)=>{s.d(g,{J:()=>a});var l=s(5519);class a extends l.r{constructor(){super(...arguments),this.id="",this.createdBy="",this.categoryId="",this.location="",this.deletedBy=""}}},5519:(P,g,s)=>{s.d(g,{r:()=>l});class l{constructor(){this.fields="",this.orderBy="",this.searchQuery="",this.pageSize=30,this.skip=0,this.name="",this.totalCount=0,this.metaTags=""}}},914:(P,g,s)=>{s.d(g,{Z:()=>_});var l=s(529),a=s(262),y=s(4650),T=s(8032);let _=(()=>{class e{constructor(i,u){this.httpClient=i,this.commonHttpErrorService=u}updateDocument(i){return i.documentMetaDatas=i.documentMetaDatas?.filter(d=>d.metatag),this.httpClient.put(`document/${i.id}`,i).pipe((0,a.K)(this.commonHttpErrorService.handleError))}addDocument(i){i.documentMetaDatas=i.documentMetaDatas?.filter(S=>S.metatag);const d=new FormData;return d.append("uploadFile",i.fileData),d.append("name",i.name),d.append("categoryId",i.categoryId),d.append("categoryName",i.categoryName),d.append("description",i.description),d.append("location",i.location??"local"),d.append("documentMetaDatas",JSON.stringify(i.documentMetaDatas)),d.append("documentRolePermissions",JSON.stringify(i.documentRolePermissions??[])),d.append("documentUserPermissions",JSON.stringify(i.documentUserPermissions??[])),this.httpClient.post("document",d).pipe((0,a.K)(this.commonHttpErrorService.handleError))}deleteDocument(i){return this.httpClient.delete(`document/${i}`).pipe((0,a.K)(this.commonHttpErrorService.handleError))}archiveDocument(i){return this.httpClient.delete(`document/${i}/archive`).pipe((0,a.K)(this.commonHttpErrorService.handleError))}getDocument(i){return this.httpClient.get(`document/${i}`).pipe((0,a.K)(this.commonHttpErrorService.handleError))}getDocuments(i){const d=(new l.LE).set("fields",i.fields).set("orderBy",i.orderBy).set("createDateString",i.createDate?i.createDate.toString():"").set("pageSize",i.pageSize.toString()).set("skip",i.skip.toString()).set("searchQuery",i.searchQuery).set("categoryId",i.categoryId).set("name",i.name).set("metaTags",i.metaTags).set("id",i.id.toString()).set("location",i.location);return this.httpClient.get("documents",{params:d,observe:"response"}).pipe((0,a.K)(this.commonHttpErrorService.handleError))}saveNewVersionDocument(i){const d=new FormData;return d.append("uploadFile",i.fileData),d.append("documentId",i.documentId),d.append("location",i.location),this.httpClient.post("documentversion",d).pipe((0,a.K)(this.commonHttpErrorService.handleError))}getDocumentVersion(i){return this.httpClient.get(`documentversion/${i}`).pipe((0,a.K)(this.commonHttpErrorService.handleError))}restoreDocumentVersion(i,u){return this.httpClient.post(`documentversion/${i}/restore/${u}`,{}).pipe((0,a.K)(this.commonHttpErrorService.handleError))}getdocumentMetadataById(i){return this.httpClient.get(`document/${i}/getMetatag`).pipe((0,a.K)(this.commonHttpErrorService.handleError))}}return e.\u0275fac=function(i){return new(i||e)(y.LFG(l.eN),y.LFG(T.U))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},7281:(P,g,s)=>{s.d(g,{Y:()=>ae});var l=s(529),a=s(7954),y=s(2340),T=s(5854),_=s(2676),e=s(4650),D=s(1218),i=s(690),u=s(8265),d=s(4786),S=s(7185),I=s(6107),w=s(6895),f=s(445),b=s(1572),c=s(4086),h=s(1481);function m(o,r){if(1&o&&(e.TgZ(0,"div",2),e._UZ(1,"img",3),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("src",t.imageUrl,e.LSH)("alt",t.document.name)}}function O(o,r){1&o&&(e.TgZ(0,"div",4),e._UZ(1,"mat-spinner"),e.qZA())}let L=(()=>{class o extends _.H{constructor(t,n,p,v){super(),this.overlayRef=t,this.sanitizer=n,this.ref=p,this.commonService=v,this.isLoading=!1}ngOnChanges(t){t.document&&this.getImage()}getImage(){this.isLoading=!0,this.sub$.sink=this.commonService.downloadDocument(this.document.documentId,this.document.isVersion).pipe((0,c.g)(500)).subscribe(t=>{if(this.isLoading=!1,t.type===l.dt.Response){const n=new Blob([t.body],{type:t.body.type});this.imageUrl=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(n)),this.ref.markForCheck()}},()=>{this.isLoading=!1})}onCancel(){this.overlayRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.L),e.Y36(h.H7),e.Y36(e.sBO),e.Y36(i.v))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-image-preview"]],inputs:{document:"document"},features:[e.qOj,e.TTD],decls:2,vars:2,consts:[["class","center-img m-5",4,"ngIf"],["class","loading-shade",4,"ngIf"],[1,"center-img","m-5"],[1,"img-fluid","custom-img",3,"src","alt"],[1,"loading-shade"]],template:function(t,n){1&t&&(e.YNc(0,m,2,2,"div",0),e.YNc(1,O,2,0,"div",1)),2&t&&(e.Q6J("ngIf",n.imageUrl),e.xp6(1),e.Q6J("ngIf",n.isLoading))},dependencies:[w.O5,b.Ou],styles:[".center-img[_ngcontent-%COMP%]{text-align:center}.custom-img[_ngcontent-%COMP%]{max-height:calc(100vh - 160px)}"]}),o})();var C=s(3930);function E(o,r){1&o&&(e.TgZ(0,"div",3)(1,"div",4),e._UZ(2,"pdf-toggle-sidebar")(3,"pdf-page-number")(4,"pdf-zoom-out")(5,"pdf-zoom-in")(6,"pdf-zoom-dropdown")(7,"pdf-rotate-page"),e.TgZ(8,"div",5),e._UZ(9,"pdf-toggle-secondary-toolbar"),e.qZA()()()),2&o&&(e.xp6(1),e.ekj("invisible",!1))}function B(o,r){1&o&&(e.TgZ(0,"div",6),e._UZ(1,"mat-spinner"),e.qZA())}let Z=(()=>{class o extends _.H{constructor(t){super(),this.commonService=t,this.loadingTime=2e3,this.documentUrl=null,this.isLoading=!1}ngOnChanges(t){t.document&&this.getDocument()}getDocument(){this.isLoading=!0,this.sub$.sink=this.commonService.downloadDocument(this.document.documentId,this.document.isVersion).subscribe(t=>{t.type===l.dt.Response&&(this.isLoading=!1,this.downloadFile(t))},()=>{this.isLoading=!1})}downloadFile(t){this.documentUrl=new Blob([t.body],{type:t.body.type})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.v))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-pdf-viewer"]],inputs:{document:"document"},features:[e.qOj,e.TTD],decls:4,vars:19,consts:[["height","91vh",3,"src","showToolbar","showSidebarButton","showFindButton","showPagingButtons","showZoomButtons","showPresentationModeButton","showOpenFileButton","showPrintButton","showDownloadButton","showBookmarkButton","showSecondaryToolbarButton","showRotateButton","showHandToolButton","showScrollingButton","showSpreadButton","showPropertiesButton","useBrowserLocale"],["customCheckboxZoomToolbar",""],["class","loading-shade",4,"ngIf"],["id","toolbarViewer"],["id","toolbarViewerMiddle"],[1,"float:right"],[1,"loading-shade"]],template:function(t,n){1&t&&(e._UZ(0,"ngx-extended-pdf-viewer",0),e.YNc(1,E,10,2,"ng-template",null,1,e.W1O),e.YNc(3,B,2,0,"div",2)),2&t&&(e.Q6J("src",n.documentUrl)("showToolbar",!0)("showSidebarButton",!0)("showFindButton",!0)("showPagingButtons",!0)("showZoomButtons",!0)("showPresentationModeButton",!0)("showOpenFileButton",!1)("showPrintButton",!1)("showDownloadButton",!1)("showBookmarkButton",!1)("showSecondaryToolbarButton",!0)("showRotateButton",!0)("showHandToolButton",!0)("showScrollingButton",!0)("showSpreadButton",!1)("showPropertiesButton",!1)("useBrowserLocale",!1),e.xp6(3),e.Q6J("ngIf",n.isLoading))},dependencies:[w.O5,C.U2,C.Zu,C.nO,C.eE,C.cm,C.IS,C.mR,C.S3,b.Ou]}),o})();function A(o,r){if(1&o&&(e.TgZ(0,"pre"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t)}}function R(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"br"),e.qZA())}function U(o,r){if(1&o&&(e.ynx(0),e.YNc(1,A,2,1,"pre",3),e.YNc(2,R,2,0,"div",3),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngIf",!t)}}function F(o,r){1&o&&(e.TgZ(0,"div",4),e._UZ(1,"mat-spinner"),e.qZA())}let N=(()=>{class o extends _.H{constructor(t,n){super(),this.commonService=t,this.overlayRef=n,this.textLines=[],this.isLoading=!1}ngOnChanges(t){t.document&&this.readDocument()}readDocument(){this.isLoading=!0,this.sub$.sink=this.commonService.readDocument(this.document.documentId,this.document.isVersion).subscribe(t=>{this.isLoading=!1,this.textLines=t.result},t=>{this.isLoading=!1})}onCancel(){this.overlayRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.v),e.Y36(d.L))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-text-preview"]],inputs:{document:"document"},features:[e.qOj,e.TTD],decls:3,vars:2,consts:[[1,"m-5","text-main-div"],[4,"ngFor","ngForOf"],["class","loading-shade",4,"ngIf"],[4,"ngIf"],[1,"loading-shade"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,U,3,2,"ng-container",1),e.qZA(),e.YNc(2,F,2,0,"div",2)),2&t&&(e.xp6(1),e.Q6J("ngForOf",n.textLines),e.xp6(1),e.Q6J("ngIf",n.isLoading))},dependencies:[w.sg,w.O5,b.Ou],styles:[".text-div[_ngcontent-%COMP%]{word-wrap:break-word}.text-main-div[_ngcontent-%COMP%]{overflow:auto;height:75vh;background-color:#fff;padding:20px}pre[_ngcontent-%COMP%]{display:block;white-space:pre-wrap;word-wrap:break-word;margin:0;padding:0!important;font-size:1rem;font-family:inherit}"]}),o})();const M=["iframe"];function Y(o,r){1&o&&e._UZ(0,"iframe",3,4)}function V(o,r){1&o&&(e.TgZ(0,"div",5),e._UZ(1,"img",6),e.TgZ(2,"h5"),e._uU(3,"Microsoft Office Viewer does not support the localhost. please host your Project on domain and try again."),e.qZA()())}function Q(o,r){1&o&&(e.TgZ(0,"div",7),e._UZ(1,"mat-spinner"),e.qZA())}let J=(()=>{class o extends _.H{constructor(t,n){super(),this.commonService=t,this.overlayRef=n,this.isLive=!0,this.isLoading=!1,this.token=""}ngOnInit(){y.N.apiUrl.indexOf("localhost")>=0&&(this.isLive=!1)}ngAfterViewInit(){this.isLive&&this.getDocumentToken()}getDocumentToken(){this.isLoading=!0,this.sub$.sink=this.commonService.getDocumentToken(this.document.documentId).subscribe(t=>{this.token=t.result;const n=location.host,p=location.protocol;this.iframe.nativeElement.src="https://view.officeapps.live.com/op/embed.aspx?src="+encodeURIComponent(`${"/"===y.N.apiUrl?`${p}//${n}/`:y.N.apiUrl}api/document/${this.document.documentId}/officeviewer?token=${this.token}&isVersion=${this.document.isVersion}`),this.isLoading=!1},()=>{this.isLoading=!1})}onCancel(){this.overlayRef.close()}ngOnDestroy(){this.isLive?this.sub$.sink=this.commonService.deleteDocumentToken(this.token).subscribe(()=>{super.ngOnDestroy()}):super.ngOnDestroy()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.v),e.Y36(d.L))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-office-viewer"]],viewQuery:function(t,n){if(1&t&&e.Gf(M,5),2&t){let p;e.iGM(p=e.CRH())&&(n.iframe=p.first)}},inputs:{document:"document"},features:[e.qOj],decls:3,vars:3,consts:[["class","preview-object","style","width: 100%;height: 89%;",4,"ngIf"],["style","text-align: center;",4,"ngIf"],["class","loading-shade",4,"ngIf"],[1,"preview-object",2,"width","100%","height","89%"],["iframe",""],[2,"text-align","center"],["src","assets/images/file-preview.png","alt","",1,"m-5"],[1,"loading-shade"]],template:function(t,n){1&t&&(e.YNc(0,Y,2,0,"iframe",0),e.YNc(1,V,4,0,"div",1),e.YNc(2,Q,2,0,"div",2)),2&t&&(e.Q6J("ngIf",n.isLive),e.xp6(1),e.Q6J("ngIf",!n.isLive),e.xp6(1),e.Q6J("ngIf",n.isLoading))},dependencies:[w.O5,b.Ou]}),o})();const $=["playerEl"];function H(o,r){1&o&&(e.TgZ(0,"div",4),e._UZ(1,"mat-spinner"),e.qZA())}let k=(()=>{class o extends _.H{constructor(t,n){super(),this.overlayRef=t,this.commonService=n,this.isLoading=!1}ngOnChanges(t){t.document&&this.getDocument()}getDocument(){this.isLoading=!0,this.sub$.sink=this.commonService.downloadDocument(this.document.documentId,this.document.isVersion).subscribe(t=>{if(t.type===l.dt.Response){this.isLoading=!1,this.htmlSource&&this.player().hasChildNodes()&&this.player().removeChild(this.htmlSource);const n=new Blob([t.body],{type:t.body.type});this.htmlSource=document.createElement("source"),this.htmlSource.src=URL.createObjectURL(n),this.htmlSource.type=t.body.type,this.player().pause(),this.player().load(),this.player().appendChild(this.htmlSource),this.player().play()}},()=>{this.isLoading=!1})}player(){return this.playerEl.nativeElement}onCancel(){this.overlayRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.L),e.Y36(i.v))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-audio-preview"]],viewQuery:function(t,n){if(1&t&&e.Gf($,7),2&t){let p;e.iGM(p=e.CRH())&&(n.playerEl=p.first)}},inputs:{document:"document"},features:[e.qOj,e.TTD],decls:4,vars:1,consts:[[1,"audio-div"],["controls","controls"],["playerEl",""],["class","loading-shade",4,"ngIf"],[1,"loading-shade"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"audio",1,2),e.qZA(),e.YNc(3,H,2,0,"div",3)),2&t&&(e.xp6(3),e.Q6J("ngIf",n.isLoading))},dependencies:[w.O5,b.Ou],styles:[".audio-div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;min-height:calc(100vh - 60px);background:rgba(15,15,15,.9490196078)}"]}),o})();function j(o,r){1&o&&(e.TgZ(0,"div",4),e._UZ(1,"mat-spinner"),e.qZA())}let G=(()=>{class o extends k{constructor(t,n){super(t,n),this.overlayRef=t,this.commonService=n}ngOnChanges(t){t.document&&this.getDocument()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.L),e.Y36(i.v))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-video-preview"]],features:[e.qOj,e.TTD],decls:4,vars:1,consts:[[1,"video-div"],["controls","controls"],["playerEl",""],["class","loading-shade",4,"ngIf"],[1,"loading-shade"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"video",1,2),e.qZA(),e.YNc(3,j,2,0,"div",3)),2&t&&(e.xp6(3),e.Q6J("ngIf",n.isLoading))},dependencies:[w.O5,b.Ou],styles:[".video-div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;min-height:calc(100vh - 60px);background:rgba(15,15,15,.9490196078)}video[_ngcontent-%COMP%]{width:65vw}"]}),o})();var K=s(9383);function W(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"a",3),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.download())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"DOWNLOAD")))}let z=(()=>{class o extends _.H{constructor(t,n,p){super(),this.translationService=t,this.toastrService=n,this.commonService=p,this.isDownloadFlag=!1}download(){this.sub$.sink=this.commonService.downloadDocument(this.document.documentId,this.document.isVersion).subscribe(t=>{t.type===l.dt.Response&&(this.addDocumentTrail(this.document.isVersion?this.document.id:this.document.documentId,a.g.Download.toString()),this.downloadFile(t,this.document))},()=>{this.toastrService.error(this.translationService.getValue("ERROR_WHILE_DOWNLOADING_DOCUMENT"))})}addDocumentTrail(t,n){this.sub$.sink=this.commonService.addDocumentAuditTrail({documentId:t,operationName:n}).subscribe(()=>{})}downloadFile(t,n){const p=new Blob([t.body],{type:t.body.type}),v=document.createElement("a");v.setAttribute("style","display:none;"),document.body.appendChild(v),v.download=n.name,v.href=URL.createObjectURL(p),v.target="_blank",v.click(),document.body.removeChild(v)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(I.D),e.Y36(S._W),e.Y36(i.v))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-no-preview-available"]],inputs:{document:"document",isDownloadFlag:"isDownloadFlag"},features:[e.qOj],decls:5,vars:4,consts:[[1,"center-screen"],[1,"text-dark"],["class","btn btn-primary text-dark",3,"click",4,"ngIf"],[1,"btn","btn-primary","text-dark",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,W,3,3,"a",2),e.qZA()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"NO_FILE_PREVIEW_AVAILABLE")),e.xp6(2),e.Q6J("ngIf",n.isDownloadFlag))},dependencies:[w.O5,K.X$]}),o})();function X(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",9),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.downloadDocument(p.currentDoc))}),e._UZ(1,"i",10),e.qZA()}}function q(o,r){if(1&o&&e._UZ(0,"app-image-preview",11),2&o){const t=e.oxw();e.Q6J("document",t.currentDoc)}}function ee(o,r){if(1&o&&e._UZ(0,"app-office-viewer",11),2&o){const t=e.oxw();e.Q6J("document",t.currentDoc)}}function te(o,r){if(1&o&&e._UZ(0,"app-pdf-viewer",11),2&o){const t=e.oxw();e.Q6J("document",t.currentDoc)}}function oe(o,r){if(1&o&&e._UZ(0,"app-text-preview",11),2&o){const t=e.oxw();e.Q6J("document",t.currentDoc)}}function ne(o,r){if(1&o&&e._UZ(0,"app-audio-preview",11),2&o){const t=e.oxw();e.Q6J("document",t.currentDoc)}}function ie(o,r){if(1&o&&e._UZ(0,"app-video-preview",11),2&o){const t=e.oxw();e.Q6J("document",t.currentDoc)}}function se(o,r){if(1&o&&e._UZ(0,"app-no-preview-available",12),2&o){const t=e.oxw();e.Q6J("document",t.currentDoc)("isDownloadFlag",t.isDownloadFlag)}}function re(o,r){1&o&&(e.TgZ(0,"div",13),e._UZ(1,"mat-spinner"),e.qZA())}let ae=(()=>{class o extends _.H{constructor(t,n,p,v,x,ce,le){super(),this.overlay=t,this.commonService=n,this.data=p,this.clonerService=v,this.overlayRef=x,this.toastrService=ce,this.translationService=le,this.type="",this.isLoading=!1,this.isDownloadFlag=!1}ngOnInit(){this.onDocumentView(this.data),this.getLangDir()}getLangDir(){this.sub$.sink=this.translationService.lanDir$.subscribe(t=>{this.direction=t})}closeToolbar(){this.overlayRef.close()}onDocumentView(t){this.currentDoc=this.clonerService.deepClone(t);const p=y.N.allowExtesions.find(v=>v.extentions.find(x=>x.toLowerCase()===t.extension.toLowerCase()));this.type=p?p.type:"",this.getIsDownloadFlag(t),this.addDocumentTrail(t.isVersion?t.id:t.documentId,a.g.Read.toString())}addDocumentTrail(t,n){this.sub$.sink=this.commonService.addDocumentAuditTrail({documentId:t,operationName:n}).subscribe(()=>{})}getIsDownloadFlag(t){this.sub$.sink=this.commonService.isDownloadFlag(this.data.isVersion?t.id:t.documentId,this.data.isFromPreview).subscribe(n=>{this.isDownloadFlag=n})}downloadDocument(t){this.sub$.sink=this.commonService.downloadDocument(this.currentDoc.documentId,t.isVersion).subscribe(n=>{n.type===l.dt.Response&&(this.addDocumentTrail(t.isVersion?t.id:t.documentId,a.g.Download.toString()),this.downloadFile(n,t))},()=>{this.toastrService.error(this.translationService.getValue("ERROR_WHILE_DOWNLOADING_DOCUMENT"))})}downloadFile(t,n){const p=new Blob([t.body],{type:t.body.type}),v=n.name.split("."),x=document.createElement("a");x.setAttribute("style","display:none;"),document.body.appendChild(x),x.download=`${v[0]}.${n.extension}`,x.href=URL.createObjectURL(p),x.target="_blank",x.click(),document.body.removeChild(x)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(D.T),e.Y36(i.v),e.Y36(T.p),e.Y36(u.$),e.Y36(d.L),e.Y36(S._W),e.Y36(I.D))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-base-preview"]],features:[e.qOj],decls:15,vars:13,consts:[[1,"file-preview-toolbar","d-flex",3,"dir","ngClass"],[1,"back-arrow"],[3,"ngClass","click"],[1,"file-name","flex-grow-1"],["class","back-arrow",3,"click",4,"ngIf"],[3,"ngSwitch"],[3,"document",4,"ngSwitchCase"],[3,"document","isDownloadFlag",4,"ngSwitchDefault"],["class","loading-shade",4,"ngIf"],[1,"back-arrow",3,"click"],[1,"fas","fa-arrow-down"],[3,"document"],[3,"document","isDownloadFlag"],[1,"loading-shade"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"span",1)(2,"i",2),e.NdJ("click",function(){return n.closeToolbar()}),e.qZA()(),e.TgZ(3,"span",3),e._uU(4),e.qZA(),e.YNc(5,X,2,0,"span",4),e.qZA(),e.ynx(6,5),e.YNc(7,q,1,1,"app-image-preview",6),e.YNc(8,ee,1,1,"app-office-viewer",6),e.YNc(9,te,1,1,"app-pdf-viewer",6),e.YNc(10,oe,1,1,"app-text-preview",6),e.YNc(11,ne,1,1,"app-audio-preview",6),e.YNc(12,ie,1,1,"app-video-preview",6),e.YNc(13,se,1,2,"app-no-preview-available",7),e.BQk(),e.YNc(14,re,2,0,"div",8)),2&t&&(e.Q6J("dir",n.direction)("ngClass",n.direction),e.xp6(2),e.Q6J("ngClass","ltr"===n.direction?"fas fa-arrow-left":"fas fa-arrow-right"),e.xp6(2),e.Oqu(null==n.currentDoc?null:n.currentDoc.name),e.xp6(1),e.Q6J("ngIf",n.isDownloadFlag),e.xp6(1),e.Q6J("ngSwitch",n.type),e.xp6(1),e.Q6J("ngSwitchCase","image"),e.xp6(1),e.Q6J("ngSwitchCase","office"),e.xp6(1),e.Q6J("ngSwitchCase","pdf"),e.xp6(1),e.Q6J("ngSwitchCase","text"),e.xp6(1),e.Q6J("ngSwitchCase","audio"),e.xp6(1),e.Q6J("ngSwitchCase","video"),e.xp6(2),e.Q6J("ngIf",n.isLoading))},dependencies:[w.mk,w.O5,w.RF,w.n9,w.ED,f.Lv,b.Ou,L,Z,N,J,k,G,z],styles:["[_nghost-%COMP%]     #aligner{display:none!important;visibility:hidden!important}.file-preview-toolbar[_ngcontent-%COMP%]{top:0;left:0;display:flex;width:100%;align-items:center;color:var(--be-accent-contrast);height:60px;padding:0 15px;background:#673ab7;z-index:10}.back-arrow[_ngcontent-%COMP%]{color:#fff;font-size:x-large;font-weight:700;cursor:pointer;margin-right:10px}.rtl[_ngcontent-%COMP%]   .back-arrow[_ngcontent-%COMP%]{margin-left:10px}.download-button[_ngcontent-%COMP%]{position:absolute;right:30px}.file-name[_ngcontent-%COMP%]{color:#fff;margin-left:10px}.rtl[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{margin-right:10px}"]}),o})()},5854:(P,g,s)=>{s.d(g,{p:()=>a});const a=new(s(4650).OlP)("OVERLAY_PANEL_DATA")},4786:(P,g,s)=>{s.d(g,{L:()=>T});var l=s(7579),a=s(5698);class T{constructor(e){this.overlayRef=e,this.id=function y(_=36){let e="";const D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<_;i++)e+=D.charAt(Math.floor(Math.random()*D.length));return e}(15),this.value=new l.x}isOpen(){return this.overlayRef&&this.overlayRef.hasAttached()}close(){this.overlayRef&&this.overlayRef.dispose()}emitValue(e){this.value.next(e)}valueChanged(){return this.value.asObservable()}getPanelEl(){return this.overlayRef.overlayElement}updatePosition(){return this.overlayRef.updatePosition()}afterClosed(){return this.overlayRef.detachments().pipe((0,a.q)(1))}}},1218:(P,g,s)=>{s.d(g,{T:()=>w});var l=s(4650),a=s(4080),y=s(4786),T=s(5854);class _{attach(){}enable(){document.documentElement.classList.add("be-fullscreen-overlay-scrollblock")}disable(){document.documentElement.classList.remove("be-fullscreen-overlay-scrollblock")}}var e=s(9300),D=s(9521),i=s(8184),u=s(2289),d=s(1135);let S=(()=>{class f{constructor(c){this.breakpointObserver=c,this.isMobile$=new d.X(!1),this.isTablet$=new d.X(!1),this.breakpointObserver.observe(u.u3.Handset).subscribe(h=>{this.isMobile$.next(h.matches)}),this.breakpointObserver.observe(u.u3.Tablet).subscribe(h=>{this.isTablet$.next(h.matches)})}observe(c){return this.breakpointObserver.observe(c)}}return f.\u0275fac=function(c){return new(c||f)(l.LFG(u.Yg))},f.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const I={hasBackdrop:!0,closeOnBackdropClick:!0,panelClass:"overlay-panel"};let w=(()=>{class f{constructor(c,h,m){this.overlay=c,this.breakpoints=h,this.injector=m}open(c,h){const m=Object.assign({},I,h),O={positionStrategy:this.getPositionStrategy(m),hasBackdrop:m.hasBackdrop,panelClass:m.panelClass,backdropClass:m.backdropClass,scrollStrategy:this.getScrollStrategy(m),disposeOnNavigation:!0};m.width&&(O.width=m.width),m.height&&(O.height=m.height),m.maxHeight&&(O.maxHeight=m.maxHeight),m.maxWidth&&(O.maxWidth=m.maxWidth);const L=this.overlay.create(O),C=new y.L(L),E=c instanceof l.Rgc?new a.UE(c,m.viewContainerRef,m.data):new a.C5(c,m.viewContainerRef,this.createInjector(m,C));return C.componentRef=L.attach(E),m.closeOnBackdropClick&&(L.backdropClick().subscribe(()=>C.close()),L.keydownEvents().pipe((0,e.h)(B=>B.keyCode===D.hY)).subscribe(()=>C.close())),C}getScrollStrategy(c){return c.fullScreen?new _:"close"===c.scrollStrategy?this.overlay.scrollStrategies.close():null}createInjector(c,h){const m=new WeakMap;return m.set(y.L,h),m.set(T.p,c.data||null),new a.nK(this.injector,m)}getPositionStrategy(c){if(c.positionStrategy)return c.positionStrategy;const h=this.breakpoints.isMobile$.value&&c.mobilePosition||c.position;return"global"===c.origin||this.positionIsGlobal(h)?this.getGlobalPositionStrategy(h):this.getConnectedPositionStrategy(h,c.origin)}positionIsGlobal(c){return"center"===c||!Array.isArray(c)}getGlobalPositionStrategy(c){if("center"===c)return this.overlay.position().global().centerHorizontally().centerVertically();{const h=this.overlay.position().global();return Object.keys(c).forEach(m=>{h[m](c[m])}),h}}getConnectedPositionStrategy(c,h){return this.overlay.position().flexibleConnectedTo(h).withPositions(c).withPush(!0).withViewportMargin(5)}}return f.\u0275fac=function(c){return new(c||f)(l.LFG(i.aV),l.LFG(S),l.LFG(l.zs3))},f.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()}}]);