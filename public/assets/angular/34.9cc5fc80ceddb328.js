"use strict";(self.webpackChunkdocument_management=self.webpackChunkdocument_management||[]).push([[34],{5519:(Q,v,s)=>{s.d(v,{r:()=>h});class h{constructor(){this.fields="",this.orderBy="",this.searchQuery="",this.pageSize=30,this.skip=0,this.name="",this.totalCount=0,this.metaTags=""}}},5579:(Q,v,s)=>{s.r(v),s.d(v,{ReminderModule:()=>Lt});var h=s(6895),c=s(8988),g=s(8739),A=s(6308),E=s(4702),f=s(7579),D=s(6451),d=s(8372),u=s(1884),F=s(8505),Y=s(2676),m=s(4006),x=s(4598),_=s(2851),T=s(1357),M=s(8912),e=s(4650),I=s(3037),L=s(690),J=s(7185),O=s(6107),j=s(6709),b=s(1948),y=s(5415),Z=s(8796),$=s(9383);function V(r,n){1&r&&(e.TgZ(0,"div",31),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"SUBJECT_IS_REQUIRED")," "))}function W(r,n){1&r&&(e.TgZ(0,"div",31),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"MESSAGE_IS_REQUIRED")," "))}function z(r,n){if(1&r&&(e.TgZ(0,"ng-option",32),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t),e.xp6(1),e.AsE(" ",t.firstName," ",t.lastName," ")}}function K(r,n){if(1&r&&(e.TgZ(0,"option",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",null==t?null:t.id),e.xp6(1),e.hij(" ",e.lcZ(2,2,null==t?null:t.name.toUpperCase())," ")}}function P(r,n){1&r&&(e.TgZ(0,"div",31),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FREQUENCY_IS_REQUIRED")," "))}function X(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",33)(2,"label",34),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"select",35),e.NdJ("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFrequencyChange())}),e.TgZ(6,"option",36),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.YNc(9,K,3,4,"option",22),e.qZA(),e.YNc(10,P,3,3,"div",14),e.qZA()()}if(2&r){const t=e.oxw();let i;e.xp6(3),e.hij(" ",e.lcZ(4,4,"FREQUENCY"),""),e.xp6(4),e.hij("--",e.lcZ(8,6,"NONE"),"--"),e.xp6(2),e.Q6J("ngForOf",t.reminderFrequencies),e.xp6(1),e.Q6J("ngIf",null==(i=t.reminderForm.get("frequency"))?null:i.hasError("required"))}}function ee(r,n){if(1&r&&(e.TgZ(0,"div",41),e.ynx(1,42),e.TgZ(2,"mat-checkbox",43),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk(),e.qZA()),2&r){const t=n.$implicit,i=n.index;e.xp6(1),e.Q6J("formGroupName",i),e.xp6(2),e.hij(" ",e.lcZ(4,2,t.get("name").value.toUpperCase())," ")}}function te(r,n){if(1&r&&(e.TgZ(0,"div")(1,"label",38),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",39),e.YNc(5,ee,5,4,"div",40),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"WEEK_DAYS")),e.xp6(3),e.Q6J("ngForOf",t.dailyRemindersArray.controls)}}function re(r,n){if(1&r&&(e.TgZ(0,"mat-radio-button",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(e.lcZ(2,2,t.name))}}function ie(r,n){if(1&r&&(e.TgZ(0,"div")(1,"label",44),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",45)(5,"mat-radio-group",46),e.YNc(6,re,3,4,"mat-radio-button",47),e.qZA()()()),2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"WEEK_DAYS")),e.xp6(4),e.Q6J("ngForOf",t.dayOfWeek)}}function ne(r,n){if(1&r&&(e.TgZ(0,"option",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.name)," ")}}function oe(r,n){if(1&r&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function se(r,n){1&r&&(e.TgZ(0,"div")(1,"div",31),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"PLEASE_SELECT_VALID_DAY")," "))}function ae(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr"),e.ynx(1,42),e.TgZ(2,"td"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"td")(6,"select",54),e.NdJ("change",function(){const a=e.CHM(t).$implicit,p=e.oxw(3);return e.KtG(p.onDateChange(a))}),e.YNc(7,ne,3,4,"option",22),e.qZA()(),e.TgZ(8,"td")(9,"select",55),e.NdJ("change",function(){const a=e.CHM(t).$implicit,p=e.oxw(3);return e.KtG(p.onDateChange(a))}),e.YNc(10,oe,2,2,"option",22),e.qZA(),e.YNc(11,se,4,3,"div",37),e.qZA(),e.BQk(),e.qZA()}if(2&r){const t=n.$implicit,i=n.index,o=e.oxw(3);e.xp6(1),e.Q6J("formGroupName",i),e.xp6(2),e.hij(" ",e.lcZ(4,5,t.get("name").value),""),e.xp6(4),e.Q6J("ngForOf",t.get("monthValues").value),e.xp6(3),e.Q6J("ngForOf",o.days),e.xp6(1),e.Q6J("ngIf",t.get("day").touched&&t.hasError("invalidDate"))}}function de(r,n){if(1&r&&(e.TgZ(0,"div")(1,"label",49),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",50)(5,"table",51)(6,"thead")(7,"tr"),e._UZ(8,"th"),e.TgZ(9,"th"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.ALo(14,"translate"),e.qZA()()(),e.TgZ(15,"tbody",52),e.YNc(16,ae,12,7,"tr",53),e.qZA()()()()),2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,4,"SELECT_QUARTER_DATE")),e.xp6(8),e.Oqu(e.lcZ(11,6,"MONTH")),e.xp6(3),e.Oqu(e.lcZ(14,8,"DAY")),e.xp6(3),e.Q6J("ngForOf",t.quarterlyRemindersArray.controls)}}function me(r,n){if(1&r&&(e.TgZ(0,"option",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.name)," ")}}function le(r,n){if(1&r&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function ce(r,n){1&r&&(e.TgZ(0,"div")(1,"div",31),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"PLEASE_SELECT_VALID_DAY")," "))}function ue(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr"),e.ynx(1,42),e.TgZ(2,"td"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"td")(6,"select",54),e.NdJ("change",function(){const a=e.CHM(t).$implicit,p=e.oxw(3);return e.KtG(p.onDateChange(a))}),e.YNc(7,me,3,4,"option",22),e.qZA()(),e.TgZ(8,"td")(9,"select",55),e.NdJ("change",function(){const a=e.CHM(t).$implicit,p=e.oxw(3);return e.KtG(p.onDateChange(a))}),e.YNc(10,le,2,2,"option",22),e.qZA(),e.YNc(11,ce,4,3,"div",37),e.qZA(),e.BQk(),e.qZA()}if(2&r){const t=n.$implicit,i=n.index,o=e.oxw(3);e.xp6(1),e.Q6J("formGroupName",i),e.xp6(2),e.Oqu(e.lcZ(4,5,t.get("name").value)),e.xp6(4),e.Q6J("ngForOf",t.get("monthValues").value),e.xp6(3),e.Q6J("ngForOf",o.days),e.xp6(1),e.Q6J("ngIf",t.get("day").touched&&t.hasError("invalidDate"))}}function he(r,n){if(1&r&&(e.TgZ(0,"div")(1,"label",56),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",57)(5,"table",51)(6,"thead")(7,"tr"),e._UZ(8,"th"),e.TgZ(9,"th"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.ALo(14,"translate"),e.qZA()()(),e.TgZ(15,"tbody",58),e.YNc(16,ue,12,7,"tr",53),e.qZA()()()()),2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,4,"SELECT_DATE")),e.xp6(8),e.Oqu(e.lcZ(11,6,"MONTH")),e.xp6(3),e.Oqu(e.lcZ(14,8,"DAY")),e.xp6(3),e.Q6J("ngForOf",t.halfYearlyRemindersArray.controls)}}function pe(r,n){if(1&r&&(e.TgZ(0,"div",4)(1,"div",11),e.YNc(2,te,6,4,"div",37),e.YNc(3,ie,7,4,"div",37),e.YNc(4,de,17,10,"div",37),e.YNc(5,he,17,10,"div",37),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngIf","0"==t.reminderForm.get("frequency").value),e.xp6(1),e.Q6J("ngIf","1"==t.reminderForm.get("frequency").value),e.xp6(1),e.Q6J("ngIf","3"==t.reminderForm.get("frequency").value),e.xp6(1),e.Q6J("ngIf","4"==t.reminderForm.get("frequency").value)}}function fe(r,n){1&r&&(e.TgZ(0,"div",31),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"DATE_IS_REQUIRED")," "))}function _e(r,n){1&r&&(e.TgZ(0,"div",31),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"START_DATE_SHOULD_BE_GREATER_THEN_CURRENT_DATE_TIME")," "))}function ge(r,n){if(1&r&&(e.TgZ(0,"div",33)(1,"label",34),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"input",59),e.ALo(5,"translate"),e._UZ(6,"owl-date-time",null,60),e.YNc(8,fe,3,3,"div",14),e.YNc(9,_e,3,3,"div",14),e.qZA()),2&r){const t=e.MAs(7),i=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,7,"REMINDER_DATE"),""),e.xp6(2),e.s9C("placeholder",e.lcZ(5,9,"DATE")),e.Q6J("owlDateTimeTrigger",t)("min",i.minDate)("owlDateTime",t),e.xp6(4),e.Q6J("ngIf",i.reminderForm.get("startDate").touched&&i.reminderForm.get("startDate").hasError("required")),e.xp6(1),e.Q6J("ngIf",i.reminderForm.get("startDate").touched&&i.reminderForm.get("startDate").hasError("owlDateTimeMin"))}}function Re(r,n){1&r&&(e.TgZ(0,"div",31),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"START_DATE_IS_REQUIRED")," "))}function ve(r,n){1&r&&(e.TgZ(0,"div",31),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"START_DATE_SHOULD_BE_GREATER_THEN_CURRENT_DATE_TIME")," "))}function Ae(r,n){if(1&r&&(e.TgZ(0,"div",33)(1,"label",34),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"input",59),e.ALo(5,"translate"),e._UZ(6,"owl-date-time",null,61),e.YNc(8,Re,3,3,"div",14),e.YNc(9,ve,3,3,"div",14),e.qZA()),2&r){const t=e.MAs(7),i=e.oxw();let o;e.xp6(2),e.hij(" ",e.lcZ(3,7,"REMINDER_START_DATE"),""),e.xp6(2),e.s9C("placeholder",e.lcZ(5,9,"START_DATE")),e.Q6J("owlDateTimeTrigger",t)("min",i.minDate)("owlDateTime",t),e.xp6(4),e.Q6J("ngIf",i.reminderForm.get("startDate").touched&&i.reminderForm.get("startDate").hasError("required")),e.xp6(1),e.Q6J("ngIf",i.reminderForm.get("startDate").touched&&(null==(o=i.reminderForm.get("startDate"))?null:o.hasError("owlDateTimeMin")))}}function Te(r,n){if(1&r&&(e.TgZ(0,"div",33)(1,"label",34),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"input",62),e.ALo(5,"translate"),e._UZ(6,"owl-date-time",null,63),e.qZA()),2&r){const t=e.MAs(7);e.xp6(2),e.Oqu(e.lcZ(3,4,"REMINDER_END_DATE")),e.xp6(2),e.s9C("placeholder",e.lcZ(5,6,"END_DATE")),e.Q6J("owlDateTimeTrigger",t)("owlDateTime",t)}}const ye=function(){return["/reminders"]};let S=(()=>{class r extends Y.H{get dailyRemindersArray(){return this.reminderForm.get("dailyReminders")}get quarterlyRemindersArray(){return this.reminderForm.get("quarterlyReminders")}get halfYearlyRemindersArray(){return this.reminderForm.get("halfYearlyReminders")}constructor(t,i,o,a,p,U,bt){super(),this.fb=t,this.reminderService=i,this.commonService=o,this.toastrService=a,this.route=p,this.activatedRoute=U,this.translationService=bt,this.reminderFrequencies=[],this.minDate=new Date,this.users=[],this.isLoading=!1,this.showSpinners=!0,this.showSeconds=!1,this.touchUi=!1,this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.dayOfWeek=M.R,this.months=M.k,this.days=[],this.firstQuaterMonths=this.months.filter(R=>[1,2,3].indexOf(R.id)>=0),this.secondQuaterMonths=this.months.filter(R=>[4,5,6].indexOf(R.id)>=0),this.thirdQuaterMonths=this.months.filter(R=>[7,8,9].indexOf(R.id)>=0),this.forthQuaterMonths=this.months.filter(R=>[10,11,12].indexOf(R.id)>=0)}ngOnInit(){for(let t=1;t<=31;t++)this.days.push(t);this.getReminderFrequency(),this.createReminderForm(),this.sub$.sink=this.activatedRoute.data.subscribe(t=>{t.reminder&&(this.reminder={...t.reminder},this.reminder.dailyReminders=this.reminder.dailyReminders.sort((i,o)=>i.dayOfWeek-o.dayOfWeek),this.reminder.quarterlyReminders=this.reminder.quarterlyReminders.sort((i,o)=>i.quarter-o.quarter),this.reminder.halfYearlyReminders=this.reminder.halfYearlyReminders.sort((i,o)=>i.quarter-o.quarter),this.reminderForm.patchValue(this.reminder),this.onFrequencyChange(),this.reminderForm.patchValue(this.reminder),this.reminderForm.get("isRepeated").value&&this.reminderForm.get("frequency").setValidators([m.kI.required]))}),this.getUsers()}getReminderFrequency(){this.sub$.sink=this.commonService.getReminderFrequency().subscribe(t=>this.reminderFrequencies=[...t])}createReminderForm(){this.reminderForm=this.fb.group({id:[""],subject:["",[m.kI.required]],message:["",[m.kI.required]],frequency:[""],isRepeated:[!1],isEmailNotification:[!1],startDate:[new Date,[m.kI.required]],endDate:[null],dayOfWeek:[2],documentId:[null],selectedUsers:[]})}checkData(t){t.checked?this.reminderForm.get("frequency").setValidators([m.kI.required]):(this.reminderForm.get("frequency").setValidators([]),this.reminderForm.get("frequency").updateValueAndValidity()),this.reminderForm.markAllAsTouched()}createReminder(){if(!this.reminderForm.valid)return void this.reminderForm.markAllAsTouched();const t=this.reminderForm.value,i=this.reminderForm.get("selectedUsers").value??[];t.reminderUsers=i?.map(o=>({reminderId:t.id,userId:o.id})),t.isRepeated||(t.dailyReminders=[],t.quarterlyReminders=[],t.halfYearlyReminders=[]),this.reminder?(t.dailyReminders&&(t.dailyReminders=t.dailyReminders.map(o=>(o.reminderId=this.reminder.id,o))),t.quarterlyReminders&&(t.quarterlyReminders=t.quarterlyReminders.map(o=>(o.reminderId=this.reminder.id,o))),t.halfYearlyReminders&&(t.halfYearlyReminders=t.halfYearlyReminders.map(o=>(o.reminderId=this.reminder.id,o))),this.isLoading=!0,this.sub$.sink=this.reminderService.updateReminder(t).subscribe(()=>{this.toastrService.success(this.translationService.getValue("REMINDER_UPDATED_SUCCESSFULLY")),this.route.navigate(["/reminders"]),this.isLoading=!1},()=>this.isLoading=!1)):(this.isLoading=!0,this.sub$.sink=this.reminderService.addReminder(t).subscribe(()=>{this.toastrService.success(this.translationService.getValue("REMINDER_CREATED_SUCCESSFULLY")),this.route.navigate(["/reminders"]),this.isLoading=!1},()=>this.isLoading=!1))}getUsers(){this.sub$.sink=this.commonService.getUsersForDropdown().subscribe(t=>{if(this.users=t,this.reminder){const i=this.reminder.reminderUsers.map(a=>a.userId),o=this.users.filter(a=>i.indexOf(a.id)>=0);this.reminderForm.get("selectedUsers").setValue(o)}})}onFrequencyChange(){let t=this.reminderForm.get("frequency").value;t=0==t?"0":t,t==x.D.Daily.toString()?(this.removeQuarterlyReminders(),this.removeHalfYearlyReminders(),this.addDailReminders(),this.reminderForm.get("dayOfWeek").setValue("")):t==x.D.Weekly.toString()?(this.removeDailReminders(),this.removeQuarterlyReminders(),this.removeHalfYearlyReminders(),this.reminderForm.get("dayOfWeek").setValue(2)):t==x.D.Quarterly.toString()?(this.addQuarterlyReminders(),this.removeDailReminders(),this.removeHalfYearlyReminders(),this.reminderForm.get("dayOfWeek").setValue("")):t==x.D.HalfYearly.toString()?(this.removeDailReminders(),this.removeQuarterlyReminders(),this.addHalfYearlyReminders(),this.reminderForm.get("dayOfWeek").setValue("")):(this.removeDailReminders(),this.removeQuarterlyReminders(),this.removeHalfYearlyReminders(),this.reminderForm.get("dayOfWeek").setValue(""))}addDailReminders(){if(!this.reminderForm.contains("dailyReminders")){const t=this.fb.array([]);t.push(this.createDailyReminderFormGroup(_.e.Sunday)),t.push(this.createDailyReminderFormGroup(_.e.Monday)),t.push(this.createDailyReminderFormGroup(_.e.Tuesday)),t.push(this.createDailyReminderFormGroup(_.e.Wednesday)),t.push(this.createDailyReminderFormGroup(_.e.Thursday)),t.push(this.createDailyReminderFormGroup(_.e.Friday)),t.push(this.createDailyReminderFormGroup(_.e.Saturday)),this.reminderForm.addControl("dailyReminders",t)}}addQuarterlyReminders(){if(!this.reminderForm.contains("quarterlyReminders")){const t=this.fb.array([]);t.push(this.createQuarterlyReminderFormGroup(T.y.Quarter1,"JAN_MAR",this.firstQuaterMonths)),t.push(this.createQuarterlyReminderFormGroup(T.y.Quarter2,"APR_JUN",this.secondQuaterMonths)),t.push(this.createQuarterlyReminderFormGroup(T.y.Quarter3,"JUL_SEPT",this.thirdQuaterMonths)),t.push(this.createQuarterlyReminderFormGroup(T.y.Quarter4,"OCT_DEC",this.forthQuaterMonths)),this.reminderForm.addControl("quarterlyReminders",t)}}addHalfYearlyReminders(){if(!this.reminderForm.contains("halfYearlyReminders")){const t=this.fb.array([]),i=this.months.filter(a=>[1,2,3,4,5,6].indexOf(a.id)>=0),o=this.months.filter(a=>[7,8,9,10,11,13].indexOf(a.id)>=0);t.push(this.createHalfYearlyReminderFormGroup(T.y.Quarter1,"JAN_JUN",i)),t.push(this.createHalfYearlyReminderFormGroup(T.y.Quarter2,"JUL_DEC",o)),this.reminderForm.addControl("halfYearlyReminders",t)}}removeDailReminders(){this.reminderForm.contains("dailyReminders")&&this.reminderForm.removeControl("dailyReminders")}removeQuarterlyReminders(){this.reminderForm.contains("quarterlyReminders")&&this.reminderForm.removeControl("quarterlyReminders")}removeHalfYearlyReminders(){this.reminderForm.contains("halfYearlyReminders")&&this.reminderForm.removeControl("halfYearlyReminders")}createDailyReminderFormGroup(t){return this.fb.group({id:[""],reminderId:[""],dayOfWeek:[t],isActive:[!0],name:[_.e[t]]})}createQuarterlyReminderFormGroup(t,i,o){return this.fb.group({id:[""],reminderId:[""],quarter:[t],day:[this.getCurrentDay()],month:[o[0].id],name:[i],monthValues:[o]})}createHalfYearlyReminderFormGroup(t,i,o){return this.fb.group({id:[""],reminderId:[""],quarter:[t],day:[this.getCurrentDay()],month:[o[0].id],name:[i],monthValues:[o]})}getCurrentDay(){return(new Date).getDate()}onDateChange(t){const i=t.get("day").value,o=t.get("month").value;i>new Date((new Date).getFullYear(),Number.parseInt(o),0).getDate()&&(t.setErrors({invalidDate:"Invalid Date"}),t.markAllAsTouched())}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(m.QS),e.Y36(I.Z),e.Y36(L.v),e.Y36(J._W),e.Y36(c.F0),e.Y36(c.gz),e.Y36(O.D))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-reminder"]],features:[e.qOj],decls:57,vars:36,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[1,"breadcrumb-main"],[1,"row"],[1,"col-6"],[1,"breadcrumb-title"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"body","table-responsive"],[3,"formGroup"],[1,"col-md-12"],["for","subject",1,"form-label"],["formControlName","subject","type","text","id","subject",1,"form-control"],["class","text-danger",4,"ngIf"],["for","message",1,"form-label"],["formControlName","message","id","message","cols","30",1,"form-control"],[1,"col-md-2"],["color","primary","formControlName","isRepeated",3,"change"],["color","primary","formControlName","isEmailNotification"],[1,"col-md-4"],["formControlName","selectedUsers",3,"multiple","placeholder"],[3,"value",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["class","col-md-6",4,"ngIf"],["class"," col-md-6",4,"ngIf"],[1,"m-t-2","col-md-12"],["type","submit",1,"btn","btn-success","btn-sm","m-r-10",3,"click"],[1,"fas","fa-save"],["type","button",1,"btn","btn-danger","btn-sm",3,"routerLink"],[1,"fas","fa-times-circle"],[1,"text-danger"],[3,"value"],[1,"col-md-6"],["for","frequency",1,"form-label"],["formControlName","frequency","id","frequency",1,"form-select",3,"change"],["value",""],[4,"ngIf"],["for","weekDays",1,"form-label"],["id","weekDays",1,"row"],["class","col-sm-auto m-r-1","formArrayName","dailyReminders",4,"ngFor","ngForOf"],["formArrayName","dailyReminders",1,"col-sm-auto","m-r-1"],[3,"formGroupName"],["color","primary","formControlName","isActive",1,"m-r-1"],["for","weekDay",1,"form-label"],["id","weekDay"],["formControlName","dayOfWeek"],["class","mr-2","color","primary",3,"value",4,"ngFor","ngForOf"],["color","primary",1,"mr-2",3,"value"],["for","Quarterly",1,"form-label"],["id","Quarterly",1,"row"],[1,"table"],["formArrayName","quarterlyReminders"],[4,"ngFor","ngForOf"],["formControlName","month",1,"form-select",3,"change"],["formControlName","day",1,"form-select",3,"change"],["for","HalfYearly"],["id","HalfYearly",1,"row"],["formArrayName","halfYearlyReminders"],["formControlName","startDate",1,"form-control",3,"owlDateTimeTrigger","min","owlDateTime","placeholder"],["dt2",""],["dt3",""],["formControlName","endDate",1,"form-control",3,"owlDateTimeTrigger","owlDateTime","placeholder"],["dt4",""]],template:function(t,i){if(1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()()(),e.TgZ(10,"div",4)(11,"div",7)(12,"div",8)(13,"div",9)(14,"form",10)(15,"div",4)(16,"div",11)(17,"label",12),e._uU(18),e.ALo(19,"translate"),e.qZA(),e._UZ(20,"input",13),e.YNc(21,V,3,3,"div",14),e.qZA()(),e.TgZ(22,"div",4)(23,"div",11)(24,"label",15),e._uU(25),e.ALo(26,"translate"),e.qZA(),e._UZ(27,"textarea",16),e.YNc(28,W,3,3,"div",14),e.qZA()(),e.TgZ(29,"div",4)(30,"div",17)(31,"mat-checkbox",18),e.NdJ("change",function(a){return i.checkData(a)}),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"div",17)(35,"mat-checkbox",19),e._uU(36),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"div",20)(39,"ng-select",21),e.ALo(40,"translate"),e.YNc(41,z,2,3,"ng-option",22),e.qZA()()(),e.YNc(42,X,11,8,"div",23),e.YNc(43,pe,6,4,"div",23),e.TgZ(44,"div",4),e.YNc(45,ge,10,11,"div",24),e.YNc(46,Ae,10,11,"div",25),e.YNc(47,Te,8,8,"div",24),e.TgZ(48,"div",26)(49,"button",27),e.NdJ("click",function(){return i.createReminder()}),e._UZ(50,"i",28),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"button",29),e._UZ(54,"i",30),e._uU(55),e.ALo(56,"translate"),e.qZA()()()()()()()()()()),2&t){let o;e.xp6(8),e.Oqu(e.lcZ(9,19,"MANAGE_REMINDER")),e.xp6(6),e.Q6J("formGroup",i.reminderForm),e.xp6(4),e.hij(" ",e.lcZ(19,21,"SUBJECT"),""),e.xp6(3),e.Q6J("ngIf",i.reminderForm.get("subject").touched&&(null==(o=i.reminderForm.get("subject"))?null:o.hasError("required"))),e.xp6(4),e.hij(" ",e.lcZ(26,23,"MESSAGE"),""),e.xp6(3),e.Q6J("ngIf",i.reminderForm.get("message").touched&&i.reminderForm.get("message").hasError("required")),e.xp6(4),e.hij(" ",e.lcZ(33,25,"REPEATE_REMINDER")," "),e.xp6(4),e.Oqu(e.lcZ(37,27,"SEND_EMAIL")),e.xp6(3),e.s9C("placeholder",e.lcZ(40,29,"SELECT_USERS")),e.Q6J("multiple",!0),e.xp6(2),e.Q6J("ngForOf",i.users),e.xp6(1),e.Q6J("ngIf",i.reminderForm.get("isRepeated").value),e.xp6(1),e.Q6J("ngIf",i.reminderForm.get("isRepeated").value),e.xp6(2),e.Q6J("ngIf",!i.reminderForm.get("isRepeated").value),e.xp6(1),e.Q6J("ngIf",i.reminderForm.get("isRepeated").value),e.xp6(1),e.Q6J("ngIf",i.reminderForm.get("isRepeated").value),e.xp6(4),e.hij(" ",e.lcZ(52,31,"SAVE")," "),e.xp6(2),e.Q6J("routerLink",e.DdM(35,ye)),e.xp6(2),e.hij(" ",e.lcZ(56,33,"CANCEL")," ")}},dependencies:[h.sg,h.O5,m._Y,m.YN,m.Kr,m.Fj,m.EJ,m.JJ,m.JL,c.rH,m.sg,m.u,m.x0,m.CE,j.oG,b.VQ,b.U0,y.sZ,y.BO,y.hV,Z.w9,Z.jq,$.X$]}),r})();var Ze=s(1358),N=s(1135),xe=s(727),H=s(9646),Ce=s(262),Ee=s(8746);class De{get count(){return this._count}constructor(n){this.reminderService=n,this._reminderSubject$=new N.X([]),this._responseHeaderSubject$=new N.X(null),this.loadingSubject=new N.X(!1),this.loading$=this.loadingSubject.asObservable(),this._count=0,this.responseHeaderSubject$=this._responseHeaderSubject$.asObservable()}connect(){return this.sub$=new xe.w0,this._reminderSubject$.asObservable()}disconnect(){this._reminderSubject$.complete(),this.loadingSubject.complete(),this.sub$.unsubscribe()}loadData(n){this.loadingSubject.next(!0),this.sub$=this.reminderService.getReminders(n).pipe((0,Ce.K)(()=>(0,H.of)([])),(0,Ee.x)(()=>this.loadingSubject.next(!1))).subscribe(t=>{const i=new Ze.E;i.pageSize=parseInt(t.headers.get("pageSize")),i.totalCount=parseInt(t.headers.get("totalCount")),i.skip=parseInt(t.headers.get("skip")),this._responseHeaderSubject$.next({...i});const o=[...t.body];this._count=o.length,this._reminderSubject$.next(o)})}}var k=s(5412),Fe=s(5485),w=s(4859),G=s(7392),C=s(8255),Le=s(1676),be=s(9785),l=s(671),Se=s(2821),Ne=s(8475),qe=s(8017);const Ue=function(){return["/reminders/add"]};function Qe(r,n){1&r&&(e.TgZ(0,"a",37),e._UZ(1,"app-feather-icons",38),e.TgZ(2,"span",39),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.Q6J("routerLink",e.DdM(7,Ue)),e.xp6(1),e.Tol("btn-success"),e.Q6J("icon","Plus"),e.xp6(2),e.hij(" ",e.lcZ(4,5,"ADD_REMINDER"),""))}function Ye(r,n){1&r&&e._UZ(0,"th",40)}function Me(r,n){if(1&r&&(e.TgZ(0,"button",46)(1,"mat-icon"),e._uU(2,"more_vert"),e.qZA()()),2&r){e.oxw();const t=e.MAs(3);e.Q6J("matMenuTriggerFor",t)}}const Ie=function(r){return["/reminders/manage",r]};function Je(r,n){if(1&r&&(e.TgZ(0,"button",47)(1,"mat-icon"),e._uU(2,"edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()),2&r){const t=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(4,Ie,t.id)),e.xp6(4),e.Oqu(e.lcZ(5,2,"EDIT"))}}function Oe(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.deleteReminder(o))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"DELETE")))}const je=function(){return["REMINDER_EDIT_REMINDER","REMINDER_DELETE_REMINDER"]};function $e(r,n){1&r&&(e.TgZ(0,"td",41),e.YNc(1,Me,3,1,"button",42),e.TgZ(2,"mat-menu",null,43),e.YNc(4,Je,6,6,"button",44),e.YNc(5,Oe,6,3,"button",45),e.qZA()()),2&r&&(e.xp6(1),e.Q6J("hasClaim",e.DdM(3,je)),e.xp6(3),e.Q6J("hasClaim","REMINDER_EDIT_REMINDER"),e.xp6(1),e.Q6J("hasClaim","REMINDER_DELETE_REMINDER"))}function He(r,n){1&r&&(e.TgZ(0,"th",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"START_DATE")," "))}function ke(r,n){if(1&r&&(e.TgZ(0,"td",41),e._uU(1),e.ALo(2,"utcToLocalTime"),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.startDate,"short")," ")}}function we(r,n){1&r&&(e.TgZ(0,"th",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"END_DATE")," "))}function Ge(r,n){if(1&r&&(e.TgZ(0,"td",41),e._uU(1),e.ALo(2,"utcToLocalTime"),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.endDate,"short")," ")}}function Be(r,n){1&r&&(e.TgZ(0,"th",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"SUBJECT")," "))}function Ve(r,n){if(1&r&&(e.TgZ(0,"td",41),e._uU(1),e.ALo(2,"limitTo"),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.subject,"100")," ")}}function We(r,n){1&r&&(e.TgZ(0,"th",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"MESSAGE")," "))}function ze(r,n){if(1&r&&(e.TgZ(0,"td",41),e._uU(1),e.ALo(2,"limitTo"),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.message,"150")," ")}}function Ke(r,n){1&r&&(e.TgZ(0,"th",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FREQUENCY")," "))}function Pe(r,n){if(1&r&&(e.TgZ(0,"td",41),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"frequency"),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.frequency))," ")}}function Xe(r,n){1&r&&(e.TgZ(0,"th",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"DOCUMENT")," "))}function et(r,n){if(1&r&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",t.documentName," ")}}function tt(r,n){1&r&&e._UZ(0,"th",40)}function rt(r,n){1&r&&e._UZ(0,"th",40)}function it(r,n){1&r&&e._UZ(0,"th",40)}function nt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",40)(1,"input",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.SubjectFilter=o)}),e.ALo(2,"translate"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"SUBJECT")),e.Q6J("ngModel",t.SubjectFilter)}}function ot(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",40)(1,"input",51),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.MessageFilter=o)}),e.ALo(2,"translate"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"MESSAGE")),e.Q6J("ngModel",t.MessageFilter)}}function st(r,n){if(1&r&&(e.TgZ(0,"ng-option",53),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",null==t?null:t.id),e.xp6(1),e.hij(" ",e.lcZ(2,2,null==t?null:t.name.toUpperCase())," ")}}function at(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",40)(1,"ng-select",52),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.FrequencyFilter=o)}),e.ALo(2,"translate"),e.TgZ(3,"ng-option",53),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,st,3,4,"ng-option",54),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.s9C("placeholder",e.lcZ(2,4,"FREQUENCY")),e.Q6J("ngModel",t.FrequencyFilter),e.xp6(3),e.hij(" ",e.lcZ(5,6,"NONE"),""),e.xp6(2),e.Q6J("ngForOf",t.reminderFrequencies)}}function dt(r,n){1&r&&e._UZ(0,"th",40)}const mt=function(){return[10,20,30]};function lt(r,n){if(1&r&&(e.TgZ(0,"td",55),e._UZ(1,"mat-paginator",56),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("length",t.reminderResource.totalCount)("pageSize",t.reminderResource.pageSize)("pageSizeOptions",e.DdM(3,mt))}}function ct(r,n){1&r&&e._UZ(0,"tr",57)}function ut(r,n){1&r&&e._UZ(0,"tr",58)}function ht(r,n){1&r&&e._UZ(0,"tr",57)}function pt(r,n){1&r&&e._UZ(0,"tr",59)}function ft(r,n){1&r&&(e.ynx(0),e.TgZ(1,"div",60)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.BQk()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"NO_DATA_FOUND")))}const _t=function(){return["action-search","date-search","enddate-search","subject-search","message-search","frequency-search","document-search"]};let gt=(()=>{class r extends Y.H{get SubjectFilter(){return this._subjectFilter}set SubjectFilter(t){this._subjectFilter=t,this.filterObservable$.next(`subject:${t}`)}set FrequencyFilter(t){this._frequencyFilter="0"==t?"0":t?t.toString():"",this.filterObservable$.next(`frequency:${this._frequencyFilter}`)}get FrequencyFilter(){return this.reminderFrequencies.find(t=>t.id?.toString()==this._frequencyFilter)?.name}get MessageFilter(){return this._messageFilter}set MessageFilter(t){this._messageFilter=t,this.filterObservable$.next(`message:${t}`)}constructor(t,i,o,a,p,U){super(),this.reminderService=t,this.dialog=i,this.commonService=o,this.commonDialogService=a,this.toastrService=p,this.translationService=U,this.reminders=[],this.reminderFrequencies=[],this.displayedColumns=["action","startDate","endDate","subject","message","frequency","documentName"],this.footerToDisplayed=["footer"],this.isLoadingResults=!0,this.filterObservable$=new f.x,this.reminderResource=new E.t,this.reminderResource.pageSize=10,this.reminderResource.orderBy="startDate desc"}ngOnInit(){this.getReminderFrequency(),this.dataSource=new De(this.reminderService),this.dataSource.loadData(this.reminderResource),this.getResourceParameter(),this.sub$.sink=this.filterObservable$.pipe((0,d.b)(1e3),(0,u.x)()).subscribe(t=>{this.reminderResource.skip=0;const i=t.split(":");"subject"===i[0]?this.reminderResource.subject=i[1]:"message"===i[0]?this.reminderResource.message=i[1]:"frequency"===i[0]&&(this.reminderResource.frequency=i[1]),this.paginator.pageIndex=0,this.reminderResource.skip=0,this.dataSource.loadData(this.reminderResource)})}ngAfterViewInit(){this.sub$.sink=this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.sub$.sink=(0,D.T)(this.sort.sortChange,this.paginator.page).pipe((0,F.b)(()=>{this.reminderResource.skip=this.paginator.pageIndex*this.paginator.pageSize,this.reminderResource.pageSize=this.paginator.pageSize,this.reminderResource.orderBy=this.sort.active+" "+this.sort.direction,this.dataSource.loadData(this.reminderResource)})).subscribe()}getResourceParameter(){this.sub$.sink=this.dataSource.responseHeaderSubject$.subscribe(t=>{t&&(this.reminderResource.pageSize=t.pageSize,this.reminderResource.skip=t.skip,this.reminderResource.totalCount=t.totalCount)})}getReminderFrequency(){this.sub$.sink=this.commonService.getReminderFrequency().subscribe(t=>this.reminderFrequencies=[...t])}editReminder(t){this.isLoadingResults=!0,this.sub$.sink=this.commonService.getReminder(t.id).subscribe(i=>{this.isLoadingResults=!1;const o=this.dialog.open(S,{width:"60vw",data:Object.assign({},{frequencies:this.reminderFrequencies,reminder:i})});this.sub$.sink=o.afterClosed().subscribe(a=>{a&&this.dataSource.loadData(this.reminderResource)})},()=>this.isLoadingResults=!1)}deleteReminder(t){this.sub$.sink=this.commonDialogService.deleteConformationDialog(this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE")).subscribe(i=>{i&&(this.isLoadingResults=!0,this.reminderService.deleteReminder(t.id).subscribe(()=>{this.isLoadingResults=!1,this.toastrService.success(this.translationService.getValue("REMINDER_DELETED_SUCCESSFULLY")),this.dataSource.loadData(this.reminderResource)},()=>this.isLoadingResults=!1))})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(I.Z),e.Y36(k.uw),e.Y36(L.v),e.Y36(Fe.V),e.Y36(J._W),e.Y36(O.D))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-reminder-list"]],viewQuery:function(t,i){if(1&t&&(e.Gf(g.NW,5),e.Gf(A.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},features:[e.qOj],decls:61,vars:11,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[1,"breadcrumb-main"],[1,"row"],[1,"col-6"],[1,"breadcrumb-title"],[1,"breadcrumb-list"],[1,"breadcrumb-item","bcrumb-1"],["class","btn btn-outline-success btn-sm",3,"routerLink",4,"hasClaim"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"body","table-responsive"],["mat-table","","matSort","","matSortActive","startDate","matSortDirection","desc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","startDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","endDate"],["matColumnDef","subject"],["matColumnDef","message"],["matColumnDef","frequency"],["matColumnDef","documentName"],["matColumnDef","action-search"],["matColumnDef","date-search"],["matColumnDef","enddate-search"],["matColumnDef","subject-search"],["matColumnDef","message-search"],["matColumnDef","frequency-search"],["matColumnDef","document-search"],["matColumnDef","footer"],["mat-footer-cell","","colspan","7",4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],[4,"ngIf"],[1,"btn","btn-outline-success","btn-sm",3,"routerLink"],[3,"icon"],[1,"d-none","d-sm-inline"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","aria-label","Action",3,"matMenuTriggerFor",4,"hasClaim"],["menu","matMenu"],["mat-menu-item","",3,"routerLink",4,"hasClaim"],["mat-menu-item","",3,"click",4,"hasClaim"],["mat-icon-button","","aria-label","Action",3,"matMenuTriggerFor"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"click"],["mat-header-cell","","mat-sort-header",""],["type","text",1,"form-control","w-90",3,"placeholder","ngModel","ngModelChange"],["type","text",1,"form-control","w-90","ml-2",3,"placeholder","ngModel","ngModelChange"],["appendTo","body",1,"ml-3","mdc-menu-surface-open",3,"placeholder","ngModel","ngModelChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["mat-footer-cell","","colspan","7"],[3,"length","pageSize","pageSizeOptions"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""],[1,"col-sm-12","m-t-15"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.TgZ(10,"div",5)(11,"ul",7)(12,"li",8),e.YNc(13,Qe,5,8,"a",9),e.qZA()()()()()(),e.TgZ(14,"div",4)(15,"div",10)(16,"div",11)(17,"div",12)(18,"table",13),e.ynx(19,14),e.YNc(20,Ye,1,0,"th",15),e.YNc(21,$e,6,4,"td",16),e.BQk(),e.ynx(22,17),e.YNc(23,He,3,3,"th",18),e.YNc(24,ke,3,4,"td",16),e.BQk(),e.ynx(25,19),e.YNc(26,we,3,3,"th",18),e.YNc(27,Ge,3,4,"td",16),e.BQk(),e.ynx(28,20),e.YNc(29,Be,3,3,"th",18),e.YNc(30,Ve,3,4,"td",16),e.BQk(),e.ynx(31,21),e.YNc(32,We,3,3,"th",18),e.YNc(33,ze,3,4,"td",16),e.BQk(),e.ynx(34,22),e.YNc(35,Ke,3,3,"th",15),e.YNc(36,Pe,4,5,"td",16),e.BQk(),e.ynx(37,23),e.YNc(38,Xe,3,3,"th",18),e.YNc(39,et,2,1,"td",16),e.BQk(),e.ynx(40,24),e.YNc(41,tt,1,0,"th",15),e.BQk(),e.ynx(42,25),e.YNc(43,rt,1,0,"th",15),e.BQk(),e.ynx(44,26),e.YNc(45,it,1,0,"th",15),e.BQk(),e.ynx(46,27),e.YNc(47,nt,3,4,"th",15),e.BQk(),e.ynx(48,28),e.YNc(49,ot,3,4,"th",15),e.BQk(),e.ynx(50,29),e.YNc(51,at,7,8,"th",15),e.BQk(),e.ynx(52,30),e.YNc(53,dt,1,0,"th",15),e.BQk(),e.ynx(54,31),e.YNc(55,lt,2,4,"td",32),e.BQk(),e.YNc(56,ct,1,0,"tr",33),e.YNc(57,ut,1,0,"tr",34),e.YNc(58,ht,1,0,"tr",33),e.YNc(59,pt,1,0,"tr",35),e.qZA(),e.YNc(60,ft,5,3,"ng-container",36),e.qZA()()()()()()),2&t&&(e.xp6(8),e.Oqu(e.lcZ(9,8,"REMINDERS")),e.xp6(5),e.Q6J("hasClaim","REMINDER_CREATE_REMINDER"),e.xp6(5),e.Q6J("dataSource",i.dataSource),e.xp6(38),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("matHeaderRowDef",e.DdM(10,_t)),e.xp6(1),e.Q6J("matFooterRowDef",i.footerToDisplayed),e.xp6(1),e.Q6J("ngIf",0===i.dataSource.count))},dependencies:[h.sg,h.O5,m.Fj,m.JJ,m.On,c.rH,w.RK,G.Hw,C.VK,C.OP,C.p6,Le.A,be.d,g.NW,A.YE,A.nU,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.mD,l.Ke,l.ge,l.ev,l.yh,l.XQ,l.Gk,l.Q2,Z.w9,Z.jq,$.X$,Se.W,Ne.y,qe.M]}),r})();var Rt=s(5698),vt=s(6099);let B=(()=>{class r{constructor(t,i){this.cs=t,this.router=i}resolve(t,i){const o=t.paramMap.get("id");return"add"===o?null:this.cs.getReminder(o).pipe((0,Rt.q)(1),(0,vt.z)(a=>a?(0,H.of)(a):(this.router.navigate(["/reminders"]),null)))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(L.v),e.LFG(c.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();var q=s(319);const At=[{path:"",component:gt,data:{claimType:"REMINDER_VIEW_REMINDERS"},canActivate:[q.a]},{path:"add",component:S,data:{claimType:"REMINDER_CREATE_REMINDER"},canActivate:[q.a]},{path:"manage/:id",resolve:{reminder:B},component:S,data:{claimType:"REMINDER_EDIT_REMINDER"},canActivate:[q.a]}];let Tt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[h.ez,c.Bz.forChild(At),c.Bz]}),r})();var yt=s(3417),Zt=s(811),xt=s(4586),Ct=s(1572),Et=s(3546),Dt=s(4144),Ft=s(455);let Lt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[B],imports:[h.ez,m.u5,Tt,m.UX,Ct.Cq,j.p9,k.Is,Ft.rP,yt.m,C.Tx,w.ot,Et.QW,g.TU,A.JX,Dt.c,l.p0,Zt.vV,b.Fk,G.Ps,xt.D,y.Ll,y.x,Z.A0]}),r})()},3037:(Q,v,s)=>{s.d(v,{Z:()=>E});var h=s(529),c=s(262),g=s(4650),A=s(8032);let E=(()=>{class f{constructor(d,u){this.httpClient=d,this.commonHttpErrorService=u}getReminders(d){const F=(new h.LE).set("fields",d.fields?d.fields:"").set("orderBy",d.orderBy?d.orderBy:"").set("pageSize",d.pageSize.toString()).set("skip",d.skip.toString()).set("searchQuery",d.searchQuery?d.searchQuery:"").set("subject",d.subject?d.subject:"").set("message",d.message?d.message:"").set("frequency",d.frequency?d.frequency:"");return this.httpClient.get("reminder/all",{params:F,observe:"response"})}addReminder(d){return this.httpClient.post("reminder",d).pipe((0,c.K)(this.commonHttpErrorService.handleError))}addDocumentReminder(d){return this.httpClient.post("reminder/document",d).pipe((0,c.K)(this.commonHttpErrorService.handleError))}updateReminder(d){return this.httpClient.put(`reminder/${d.id}`,d).pipe((0,c.K)(this.commonHttpErrorService.handleError))}deleteReminder(d){return this.httpClient.delete(`reminder/${d}`).pipe((0,c.K)(this.commonHttpErrorService.handleError))}}return f.\u0275fac=function(d){return new(d||f)(g.LFG(h.eN),g.LFG(A.U))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()}}]);